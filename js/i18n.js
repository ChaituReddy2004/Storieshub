// Stories Hub - Internationalization (i18n) System
// Supported Languages: English, Spanish, French, German, Hindi, Telugu

const translations = {
    en: {
        // Navigation
        bookshelf: "Bookshelf",
        reports: "Reports",
        community: "Community",
        marketing: "Marketing",
        help: "Help",
        signOut: "Sign out",
        viewPublicProfile: "View Public Profile",

        // Dashboard
        dashboard: "Dashboard",
        dashboardSubtitle: "Manage your portfolio and track your publishing progress.",
        live: "Live",
        drafts: "Drafts",
        royalties: "Royalties",
        yourTitles: "Your Titles",
        createNew: "Create New",

        // Book Details
        marketplace: "Marketplace",
        sales30d: "Sales (30d)",
        rating: "Rating",
        global: "Global",
        editDetails: "Edit Details",
        editPricing: "Edit Pricing",
        viewSales: "View Sales",
        promote: "Promote",
        continueSe: "Continue Setup",
        deleteDraft: "Delete Draft",

        // Sidebar
        recentActivity: "Recent Activity",
        proTip: "Pro Tip",
        quickLinks: "Quick Links",
        helpCenter: "Help Center",
        joinDiscussions: "Join Discussions",
        downloadSalesGuide: "Download Sales Guide",

        // Reports
        salesAnalytics: "Sales Analytics",
        totalRevenue: "Total Revenue",
        unitsSold: "Units Sold",
        pageReads: "Page Reads",
        avgRating: "Avg Rating",
        revenueOverTime: "Revenue Over Time",
        topSellingTitles: "Top Selling Titles",

        // Community
        communityForum: "Community Forum",
        welcomeMessage: "Connect with fellow authors, share tips, and get support from the Stories hub community.",
        browseTopics: "Browse Topics",
        recentDiscussions: "Recent Discussions",

        // Marketing
        promoteYourStory: "Promote Your Story",
        marketingSubtitle: "Unlock powerful tools to reach millions of readers.",
        featuredResource: "Featured Resource",
        advertisingBranding: "Advertising & Branding",

        // Help
        howCanWeHelp: "How can we help?",
        searchPlaceholder: "Search for help topics, articles, or keywords...",
        gettingStarted: "Getting Started",
        exploreByTopic: "Explore by Topic",

        // Common
        search: "Search",
        filter: "Filter",
        save: "Save",
        cancel: "Cancel",
        submit: "Submit",
        close: "Close",
        notifications: "Notifications",
        settings: "Settings"
    },

    es: {
        // Navigation
        bookshelf: "Estantería",
        reports: "Informes",
        community: "Comunidad",
        marketing: "Marketing",
        help: "Ayuda",
        signOut: "Cerrar sesión",
        viewPublicProfile: "Ver perfil público",

        // Dashboard
        dashboard: "Panel de control",
        dashboardSubtitle: "Administre su cartera y realice un seguimiento de su progreso editorial.",
        live: "En vivo",
        drafts: "Borradores",
        royalties: "Regalías",
        yourTitles: "Tus títulos",
        createNew: "Crear nuevo",

        // Book Details
        marketplace: "Mercado",
        sales30d: "Ventas (30d)",
        rating: "Calificación",
        global: "Global",
        editDetails: "Editar detalles",
        editPricing: "Editar precios",
        viewSales: "Ver ventas",
        promote: "Promocionar",
        continueSe: "Continuar configuración",
        deleteDraft: "Eliminar borrador",

        // Sidebar
        recentActivity: "Actividad reciente",
        proTip: "Consejo profesional",
        quickLinks: "Enlaces rápidos",
        helpCenter: "Centro de ayuda",
        joinDiscussions: "Unirse a discusiones",
        downloadSalesGuide: "Descargar guía de ventas",

        // Reports
        salesAnalytics: "Análisis de ventas",
        totalRevenue: "Ingresos totales",
        unitsSold: "Unidades vendidas",
        pageReads: "Lecturas de página",
        avgRating: "Calificación promedio",
        revenueOverTime: "Ingresos a lo largo del tiempo",
        topSellingTitles: "Títulos más vendidos",

        // Community
        communityForum: "Foro de la comunidad",
        welcomeMessage: "Conéctese con otros autores, comparta consejos y obtenga apoyo de la comunidad Stories hub.",
        browseTopics: "Explorar temas",
        recentDiscussions: "Discusiones recientes",

        // Marketing
        promoteYourStory: "Promociona tu historia",
        marketingSubtitle: "Desbloquea herramientas poderosas para llegar a millones de lectores.",
        featuredResource: "Recurso destacado",
        advertisingBranding: "Publicidad y marca",

        // Help
        howCanWeHelp: "¿Cómo podemos ayudar?",
        searchPlaceholder: "Buscar temas de ayuda, artículos o palabras clave...",
        gettingStarted: "Empezando",
        exploreByTopic: "Explorar por tema",

        // Common
        search: "Buscar",
        filter: "Filtrar",
        save: "Guardar",
        cancel: "Cancelar",
        submit: "Enviar",
        close: "Cerrar",
        notifications: "Notificaciones",
        settings: "Configuración"
    },

    fr: {
        // Navigation
        bookshelf: "Bibliothèque",
        reports: "Rapports",
        community: "Communauté",
        marketing: "Marketing",
        help: "Aide",
        signOut: "Se déconnecter",
        viewPublicProfile: "Voir le profil public",

        // Dashboard
        dashboard: "Tableau de bord",
        dashboardSubtitle: "Gérez votre portefeuille et suivez vos progrès d'édition.",
        live: "En direct",
        drafts: "Brouillons",
        royalties: "Redevances",
        yourTitles: "Vos titres",
        createNew: "Créer nouveau",

        // Book Details
        marketplace: "Marché",
        sales30d: "Ventes (30j)",
        rating: "Évaluation",
        global: "Global",
        editDetails: "Modifier les détails",
        editPricing: "Modifier les prix",
        viewSales: "Voir les ventes",
        promote: "Promouvoir",
        continueSe: "Continuer la configuration",
        deleteDraft: "Supprimer le brouillon",

        // Sidebar
        recentActivity: "Activité récente",
        proTip: "Conseil de pro",
        quickLinks: "Liens rapides",
        helpCenter: "Centre d'aide",
        joinDiscussions: "Rejoindre les discussions",
        downloadSalesGuide: "Télécharger le guide des ventes",

        // Reports
        salesAnalytics: "Analyse des ventes",
        totalRevenue: "Revenu total",
        unitsSold: "Unités vendues",
        pageReads: "Lectures de pages",
        avgRating: "Note moyenne",
        revenueOverTime: "Revenu au fil du temps",
        topSellingTitles: "Titres les plus vendus",

        // Community
        communityForum: "Forum communautaire",
        welcomeMessage: "Connectez-vous avec d'autres auteurs, partagez des conseils et obtenez du soutien de la communauté Stories hub.",
        browseTopics: "Parcourir les sujets",
        recentDiscussions: "Discussions récentes",

        // Marketing
        promoteYourStory: "Promouvoir votre histoire",
        marketingSubtitle: "Débloquez des outils puissants pour atteindre des millions de lecteurs.",
        featuredResource: "Ressource en vedette",
        advertisingBranding: "Publicité et image de marque",

        // Help
        howCanWeHelp: "Comment pouvons-nous vous aider?",
        searchPlaceholder: "Rechercher des sujets d'aide, des articles ou des mots-clés...",
        gettingStarted: "Commencer",
        exploreByTopic: "Explorer par sujet",

        // Common
        search: "Rechercher",
        filter: "Filtrer",
        save: "Enregistrer",
        cancel: "Annuler",
        submit: "Soumettre",
        close: "Fermer",
        notifications: "Notifications",
        settings: "Paramètres"
    },

    de: {
        // Navigation
        bookshelf: "Bücherregal",
        reports: "Berichte",
        community: "Gemeinschaft",
        marketing: "Marketing",
        help: "Hilfe",
        signOut: "Abmelden",
        viewPublicProfile: "Öffentliches Profil anzeigen",

        // Dashboard
        dashboard: "Dashboard",
        dashboardSubtitle: "Verwalten Sie Ihr Portfolio und verfolgen Sie Ihren Veröffentlichungsfortschritt.",
        live: "Live",
        drafts: "Entwürfe",
        royalties: "Tantiemen",
        yourTitles: "Ihre Titel",
        createNew: "Neu erstellen",

        // Book Details
        marketplace: "Marktplatz",
        sales30d: "Verkäufe (30T)",
        rating: "Bewertung",
        global: "Global",
        editDetails: "Details bearbeiten",
        editPricing: "Preise bearbeiten",
        viewSales: "Verkäufe anzeigen",
        promote: "Bewerben",
        continueSe: "Einrichtung fortsetzen",
        deleteDraft: "Entwurf löschen",

        // Sidebar
        recentActivity: "Letzte Aktivität",
        proTip: "Profi-Tipp",
        quickLinks: "Schnelllinks",
        helpCenter: "Hilfezentrum",
        joinDiscussions: "An Diskussionen teilnehmen",
        downloadSalesGuide: "Verkaufsleitfaden herunterladen",

        // Reports
        salesAnalytics: "Verkaufsanalyse",
        totalRevenue: "Gesamtumsatz",
        unitsSold: "Verkaufte Einheiten",
        pageReads: "Seitenaufrufe",
        avgRating: "Durchschn. Bewertung",
        revenueOverTime: "Umsatz im Zeitverlauf",
        topSellingTitles: "Meistverkaufte Titel",

        // Community
        communityForum: "Community-Forum",
        welcomeMessage: "Vernetzen Sie sich mit anderen Autoren, teilen Sie Tipps und erhalten Sie Unterstützung von der Stories hub Community.",
        browseTopics: "Themen durchsuchen",
        recentDiscussions: "Aktuelle Diskussionen",

        // Marketing
        promoteYourStory: "Bewerben Sie Ihre Geschichte",
        marketingSubtitle: "Schalten Sie leistungsstarke Tools frei, um Millionen von Lesern zu erreichen.",
        featuredResource: "Empfohlene Ressource",
        advertisingBranding: "Werbung & Branding",

        // Help
        howCanWeHelp: "Wie können wir helfen?",
        searchPlaceholder: "Suchen Sie nach Hilfethemen, Artikeln oder Schlüsselwörtern...",
        gettingStarted: "Erste Schritte",
        exploreByTopic: "Nach Thema erkunden",

        // Common
        search: "Suchen",
        filter: "Filtern",
        save: "Speichern",
        cancel: "Abbrechen",
        submit: "Senden",
        close: "Schließen",
        notifications: "Benachrichtigungen",
        settings: "Einstellungen"
    },

    hi: {
        // Navigation
        bookshelf: "पुस्तकालय",
        reports: "रिपोर्ट",
        community: "समुदाय",
        marketing: "मार्केटिंग",
        help: "सहायता",
        signOut: "साइन आउट",
        viewPublicProfile: "सार्वजनिक प्रोफ़ाइल देखें",

        // Dashboard
        dashboard: "डैशबोर्ड",
        dashboardSubtitle: "अपने पोर्टफोलियो का प्रबंधन करें और अपनी प्रकाशन प्रगति को ट्रैक करें।",
        live: "लाइव",
        drafts: "ड्राफ्ट",
        royalties: "रॉयल्टी",
        yourTitles: "आपकी पुस्तकें",
        createNew: "नया बनाएं",

        // Book Details
        marketplace: "बाज़ार",
        sales30d: "बिक्री (30 दिन)",
        rating: "रेटिंग",
        global: "वैश्विक",
        editDetails: "विवरण संपादित करें",
        editPricing: "मूल्य संपादित करें",
        viewSales: "बिक्री देखें",
        promote: "प्रचार करें",
        continueSe: "सेटअप जारी रखें",
        deleteDraft: "ड्राफ्ट हटाएं",

        // Sidebar
        recentActivity: "हाल की गतिविधि",
        proTip: "प्रो टिप",
        quickLinks: "त्वरित लिंक",
        helpCenter: "सहायता केंद्र",
        joinDiscussions: "चर्चा में शामिल हों",
        downloadSalesGuide: "बिक्री गाइड डाउनलोड करें",

        // Reports
        salesAnalytics: "बिक्री विश्लेषण",
        totalRevenue: "कुल राजस्व",
        unitsSold: "बेची गई इकाइयाँ",
        pageReads: "पृष्ठ पढ़े गए",
        avgRating: "औसत रेटिंग",
        revenueOverTime: "समय के साथ राजस्व",
        topSellingTitles: "सबसे अधिक बिकने वाली पुस्तकें",

        // Community
        communityForum: "समुदाय मंच",
        welcomeMessage: "साथी लेखकों से जुड़ें, सुझाव साझा करें और Stories hub समुदाय से समर्थन प्राप्त करें।",
        browseTopics: "विषय ब्राउज़ करें",
        recentDiscussions: "हाल की चर्चाएं",

        // Marketing
        promoteYourStory: "अपनी कहानी का प्रचार करें",
        marketingSubtitle: "लाखों पाठकों तक पहुंचने के लिए शक्तिशाली उपकरण अनलॉक करें।",
        featuredResource: "विशेष संसाधन",
        advertisingBranding: "विज्ञापन और ब्रांडिंग",

        // Help
        howCanWeHelp: "हम कैसे मदद कर सकते हैं?",
        searchPlaceholder: "सहायता विषय, लेख या कीवर्ड खोजें...",
        gettingStarted: "शुरू करना",
        exploreByTopic: "विषय के अनुसार खोजें",

        // Common
        search: "खोजें",
        filter: "फ़िल्टर",
        save: "सहेजें",
        cancel: "रद्द करें",
        submit: "जमा करें",
        close: "बंद करें",
        notifications: "सूचनाएं",
        settings: "सेटिंग्स"
    },

    te: {
        // Navigation
        bookshelf: "పుస్తకాల అరమరి",
        reports: "నివేదికలు",
        community: "సంఘం",
        marketing: "మార్కెటింగ్",
        help: "సహాయం",
        signOut: "సైన్ అవుట్",
        viewPublicProfile: "పబ్లిక్ ప్రొఫైల్ చూడండి",

        // Dashboard
        dashboard: "డాష్‌బోర్డ్",
        dashboardSubtitle: "మీ పోర్ట్‌ఫోలియోను నిర్వహించండి మరియు మీ ప్రచురణ పురోగతిని ట్రాక్ చేయండి.",
        live: "లైవ్",
        drafts: "డ్రాఫ్ట్‌లు",
        royalties: "రాయల్టీలు",
        yourTitles: "మీ పుస్తకాలు",
        createNew: "కొత్తది సృష్టించండి",

        // Book Details
        marketplace: "మార్కెట్‌ప్లేస్",
        sales30d: "అమ్మకాలు (30 రోజులు)",
        rating: "రేటింగ్",
        global: "గ్లోబల్",
        editDetails: "వివరాలను సవరించండి",
        editPricing: "ధరను సవరించండి",
        viewSales: "అమ్మకాలను చూడండి",
        promote: "ప్రచారం చేయండి",
        continueSe: "సెటప్ కొనసాగించండి",
        deleteDraft: "డ్రాఫ్ట్ తొలగించండి",

        // Sidebar
        recentActivity: "ఇటీవలి కార్యకలాపాలు",
        proTip: "ప్రొఫెషనల్ చిట్కా",
        quickLinks: "త్వరిత లింక్‌లు",
        helpCenter: "సహాయ కేంద్రం",
        joinDiscussions: "చర్చలలో చేరండి",
        downloadSalesGuide: "అమ్మకాల గైడ్ డౌన్‌లోడ్ చేయండి",

        // Reports
        salesAnalytics: "అమ్మకాల విశ్లేషణ",
        totalRevenue: "మొత్తం ఆదాయం",
        unitsSold: "విక్రయించిన యూనిట్లు",
        pageReads: "పేజీ రీడ్స్",
        avgRating: "సగటు రేటింగ్",
        revenueOverTime: "కాలక్రమంలో ఆదాయం",
        topSellingTitles: "అత్యధికంగా అమ్ముడైన పుస్తకాలు",

        // Community
        communityForum: "సంఘ వేదిక",
        welcomeMessage: "తోటి రచయితలతో కనెక్ట్ అవ్వండి, చిట్కాలను పంచుకోండి మరియు Stories hub సంఘం నుండి మద్దతు పొందండి.",
        browseTopics: "అంశాలను బ్రౌజ్ చేయండి",
        recentDiscussions: "ఇటీవలి చర్చలు",

        // Marketing
        promoteYourStory: "మీ కథను ప్రచారం చేయండి",
        marketingSubtitle: "మిలియన్ల పాఠకులను చేరుకోవడానికి శక్తివంతమైన సాధనాలను అన్‌లాక్ చేయండి.",
        featuredResource: "ఫీచర్ చేసిన వనరు",
        advertisingBranding: "ప్రకటనలు & బ్రాండింగ్",

        // Help
        howCanWeHelp: "మేము ఎలా సహాయం చేయగలం?",
        searchPlaceholder: "సహాయ అంశాలు, కథనాలు లేదా కీవర్డ్‌ల కోసం శోధించండి...",
        gettingStarted: "ప్రారంభించడం",
        exploreByTopic: "అంశం ద్వారా అన్వేషించండి",

        // Common
        search: "శోధించండి",
        filter: "ఫిల్టర్",
        save: "సేవ్ చేయండి",
        cancel: "రద్దు చేయండి",
        submit: "సమర్పించండి",
        close: "మూసివేయండి",
        notifications: "నోటిఫికేషన్‌లు",
        settings: "సెట్టింగ్‌లు"
    }
};

// Language Management
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('storieshub-language') || 'en';
        this.init();
    }

    init() {
        this.applyLanguage(this.currentLang);
        this.updateLanguageButton();
    }

    changeLanguage(langCode) {
        this.currentLang = langCode;
        localStorage.setItem('storieshub-language', langCode);
        this.applyLanguage(langCode);
        this.updateLanguageButton();
    }

    applyLanguage(langCode) {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[langCode] && translations[langCode][key]) {
                element.textContent = translations[langCode][key];
            }
        });

        // Update placeholders
        const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
        placeholders.forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            if (translations[langCode] && translations[langCode][key]) {
                element.placeholder = translations[langCode][key];
            }
        });
    }

    updateLanguageButton() {
        const langButton = document.getElementById('current-language');
        if (langButton) {
            const langNames = {
                en: 'English',
                es: 'Español',
                fr: 'Français',
                de: 'Deutsch',
                hi: 'हिन्दी',
                te: 'తెలుగు'
            };
            langButton.textContent = langNames[this.currentLang] || 'English';
        }
    }

    getText(key) {
        return translations[this.currentLang][key] || translations.en[key] || key;
    }
}

// Initialize language manager
const langManager = new LanguageManager();

// Language selector dropdown
function toggleLanguageDropdown() {
    const dropdown = document.getElementById('language-dropdown');
    if (dropdown) {
        dropdown.classList.toggle('show');
    }
}

function selectLanguage(langCode) {
    langManager.changeLanguage(langCode);
    toggleLanguageDropdown();
}

// Close dropdown when clicking outside
window.addEventListener('click', function (event) {
    if (!event.target.closest('.language-selector')) {
        const dropdown = document.getElementById('language-dropdown');
        if (dropdown && dropdown.classList.contains('show')) {
            dropdown.classList.remove('show');
        }
    }
});
